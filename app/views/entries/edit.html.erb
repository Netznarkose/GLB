<% content_for :sidebar do %>
  <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Suche</li>
      <%= form_tag users_entries_path, method: "get", id: "search_form" do %>
        <fieldset>
          <li>
            <label for="search">Suchbegriff</label>
            <input type="text" id="search" name="search" class="span12" value="<%= params[:search] %>"></input>
          </li>
        <fieldset>
        <li>
          <button id="search_button" class="btn">Suchen</button>
        </li>
      <% end %>
      <% if @entry.page_reference %>
        <li class="nav-header">Scan der Originalseite</li>
        <li>
        <% page = @entry.page_reference[1,4] %>
        <%= link_to "Seite #{page} anzeigen", "/SBDJ-Original-JPGs/SBDJ_Seite_#{page}.jpg", :target => "_blank" %>
        </li>
        <li>
        <%
          #The next page should be linked too. REASON: dictionary entry could be on 2 or even more pages...
        #I am not paid enough for preventing error triggered by non-existing 2. page!
      %>
        <% page2 = (page.to_i + 1).to_s %>
        <% diff = 4 - page2.length %>
        <% while diff > 0 do %>
          <% page2 = "0" + page2 %>
          <% diff -= 1 %>
        <% end %>
        <%= link_to "Seite #{page2} anzeigen", "/SBDJ-Original-JPGs/SBDJ_Seite_#{page2}.jpg", :target => "_blank" %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>
<% content_for :content do %>
  <h1>Editing entry</h1>
  <%= form_for @entry, :html => {:class => "form-horizontal"} do |f| %>
    <%= render :partial => 'entries/form', :locals => {:f => f}%>
  <% end %>

  <%= link_to 'Show', @entry %> |
  <%= link_to 'Back', entries_path %>
<% end %>
